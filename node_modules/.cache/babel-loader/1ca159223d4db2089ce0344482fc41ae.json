{"ast":null,"code":"var _jsxFileName = \"D:\\\\REACT\\\\GAME\\\\react-game\\\\src\\\\App.js\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./App.css\"; // import './PlayerMarker'\n\nimport PlayerMarker from \"./PlayerMarker\";\nimport ScoreGames from \"./ScoreGames\";\nimport Line from \"./Line\";\nimport Button from \"@material-ui/core/Button\";\nimport Slider from '@material-ui/core/Slider';\nimport VolumeUp from '@material-ui/icons/VolumeUp';\nimport PlayArrowRoundedIcon from '@material-ui/icons/PlayArrowRounded';\nimport StopRoundedIcon from '@material-ui/icons/StopRounded';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Switch from '@material-ui/core/Switch';\nimport Snackbar from '@material-ui/core/Snackbar'; //\n\nimport tapSound from './sound/navigation_hover-tap.wav';\nimport resetSound from './sound/notification_decorative-01.wav';\nimport celebrationSound from './sound/hero_decorative-celebration-02.wav';\nimport tieSound from './sound/hero_decorative-celebration-01.wav';\nimport loopSound from './sound/Melody 02.wav';\nimport errorSound from './sound/alert_error-03.wav'; //\n\nimport { Howl, Howler } from 'howler';\nimport { VolumeDown } from \"@material-ui/icons\";\nimport KeyboardEventHandler from 'react-keyboard-event-handler';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.ClickGrid = event => {\n      console.log(\"grid\");\n      let data = event.target.getAttribute(\"data\");\n      this.mainGame(data);\n    };\n\n    this.ClickNum = key => {\n      this.setState({\n        numKey: key\n      });\n      let data = this.state.numKey;\n\n      if (key >= 1) {\n        console.log(\"adklaskd\");\n        const numericalCorrection = {\n          7: 0,\n          8: 1,\n          9: 2,\n          4: 3,\n          5: 4,\n          6: 5,\n          1: 6,\n          2: 7,\n          3: 8\n        };\n        this.mainGame(numericalCorrection[key]);\n        this.forceUpdate();\n      }\n    };\n\n    this.newGame = () => {\n      console.log(\"reset\");\n      this.resetGame();\n      this.setState({\n        score: [0, 0]\n      });\n    };\n\n    this.automatic = () => {\n      console.log(\"reset\");\n      this.newGame();\n      const arrayAuto = [0, 1, 2, 3, 4, 5, 7, 6, 8];\n      const spead = 200;\n\n      (async () => {\n        await this.forceUpdate();\n        await this.delay(spead); // Executed 100 milliseconds later\n\n        await this.mainGame(arrayAuto[0]);\n        await this.forceUpdate();\n        await this.delay(spead); // Executed 100 milliseconds later\n\n        await this.mainGame(arrayAuto[1]);\n        await this.forceUpdate();\n        await this.delay(spead); // Executed 100 milliseconds later\n\n        await this.mainGame(arrayAuto[2]);\n        await this.forceUpdate();\n        await this.delay(spead); // Executed 100 milliseconds later\n\n        await this.mainGame(arrayAuto[3]);\n        await this.forceUpdate();\n        await this.delay(spead); // Executed 100 milliseconds later\n\n        await this.mainGame(arrayAuto[4]);\n        await this.forceUpdate();\n        await this.delay(spead); // Executed 100 milliseconds later\n\n        await this.mainGame(arrayAuto[5]);\n        await this.forceUpdate();\n        await this.delay(spead); // Executed 100 milliseconds later\n\n        await this.mainGame(arrayAuto[6]);\n        await this.forceUpdate();\n        await this.delay(spead); // Executed 100 milliseconds later\n\n        await this.mainGame(arrayAuto[7]);\n        await this.forceUpdate();\n        await this.delay(spead); // Executed 100 milliseconds later\n\n        await this.mainGame(arrayAuto[8]);\n        await this.forceUpdate();\n      })();\n    };\n\n    this.soundInGame = (sound, loopS = false) => {\n      const audio = new Howl({\n        src: [sound],\n        loop: loopS,\n        volume: this.state.soundLevel\n      });\n      audio.play();\n    };\n\n    this.soundLoopGame = () => {\n      let id1;\n      const audio02 = new Howl({\n        src: [loopSound],\n        loop: true,\n        volume: this.state.soundLevel\n      });\n\n      if (!this.state.isLoopPlaySound) {\n        id1 = audio02.play();\n        this.setState({\n          isLoopPlaySound: true\n        });\n        this.buttonMusic = {\n          buttonText: \"stop music\",\n          buttonIcon: /*#__PURE__*/_jsxDEV(StopRoundedIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 22\n          }, this)\n        };\n      } else {\n        this.setState({\n          isLoopPlaySound: false\n        });\n        Howler.stop();\n        this.buttonMusic = {\n          buttonText: \"play music\",\n          buttonIcon: /*#__PURE__*/_jsxDEV(PlayArrowRoundedIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 22\n          }, this)\n        };\n      }\n    };\n\n    this.handleChange = (event, newValue) => {\n      Howler.volume(this.state.soundLevel);\n      this.setState({\n        soundLevel: newValue\n      });\n\n      if (this.state.soundLevel > 0) {\n        this.setState({\n          soundOn: true\n        });\n      }\n\n      if (this.state.soundLevel === 0) {\n        this.setState({\n          soundOn: false\n        });\n\n        if (this.state.isLoopPlaySound) {\n          this.soundLoopGame();\n        }\n      }\n    };\n\n    this.soundOnChecked = () => {\n      if (this.state.soundOn) {\n        this.setState({\n          soundOn: false,\n          soundLevel: 0\n        });\n\n        if (this.state.isLoopPlaySound) {\n          this.soundLoopGame();\n        }\n      } else {\n        this.setState({\n          soundOn: true,\n          soundLevel: 0.5\n        });\n      }\n    };\n\n    this.state = {\n      // squares: [0, 1, 2, 3, 4, 5, 6, 7, 8]\n      squares: Array(9).fill(null),\n      playerMarkerDisplay: Array(9).fill(null),\n      player: true,\n      score: [0, 0],\n      testState: \"zero\",\n      lineWin: 0,\n      soundLevel: 0.8,\n      isLoopPlaySound: false,\n      soundOn: true,\n      isShowMessage: false,\n      numKey: 0\n    };\n    this.playerMark = 0;\n    this.isGameEnd = false;\n    this.strokeCounter = 0;\n    this.delay = require('delay');\n    this.buttonMusic = {\n      buttonText: \"play music\",\n      buttonIcon: /*#__PURE__*/_jsxDEV(PlayArrowRoundedIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 20\n      }, this)\n    };\n  }\n\n  mainGame(data) {\n    if (!this.isGameEnd) {\n      this.soundInGame(tapSound);\n      let squareArray = this.state.squares;\n\n      if (this.state.squares[data] === null) {\n        this.strokeCounter += 1;\n\n        if (this.state.player) {\n          this.playerMark = 1;\n          this.setState({\n            player: false\n          });\n        } else {\n          this.playerMark = 0;\n          this.setState({\n            player: true\n          });\n        }\n\n        squareArray[data] = this.playerMark;\n        this.setState({\n          squares: squareArray\n        });\n        console.log(data, this.state.squares);\n        this.state.playerMarkerDisplay[data] = /*#__PURE__*/_jsxDEV(PlayerMarker, {\n          name: this.playerMark\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this);\n        this.forceUpdate();\n      } else {\n        console.log(`не верный ход`);\n        this.soundInGame(errorSound);\n\n        (async () => {\n          this.setState({\n            isShowMessage: true\n          });\n          await this.delay(1000);\n          this.setState({\n            isShowMessage: false\n          }); // Executed 100 milliseconds later\n        })(); //<PlayerMarker name={this.state.player} />\n\n      }\n\n      this.isFinishGame(this.playerMark); //! test\n    }\n  }\n\n  isFinishGame(playerMark) {\n    console.log(\"isFinGame\" + this.state.squares);\n    const sq = this.state.squares;\n\n    if (sq[0] === playerMark & sq[1] === playerMark & sq[2] === playerMark) {\n      this.isWin(playerMark, 1);\n    }\n\n    if (sq[3] === playerMark & sq[4] === playerMark & sq[5] === playerMark) {\n      this.isWin(playerMark, 2);\n    }\n\n    if (sq[6] === playerMark & sq[7] === playerMark & sq[8] === playerMark) {\n      this.isWin(playerMark, 3);\n    }\n\n    if (sq[0] === playerMark & sq[3] === playerMark & sq[6] === playerMark) {\n      this.isWin(playerMark, 4);\n    }\n\n    if (sq[1] === playerMark & sq[4] === playerMark & sq[7] === playerMark) {\n      this.isWin(playerMark, 5);\n    }\n\n    if (sq[2] === playerMark & sq[5] === playerMark & sq[8] === playerMark) {\n      this.isWin(playerMark, 6);\n    }\n\n    if (sq[0] === playerMark & sq[4] === playerMark & sq[8] === playerMark) {\n      this.isWin(playerMark, 7);\n    }\n\n    if (sq[6] === playerMark & sq[4] === playerMark & sq[2] === playerMark) {\n      this.isWin(playerMark, 8);\n    }\n\n    if (this.strokeCounter === 9 & !this.isGameEnd) {\n      this.isTie(0);\n    }\n  }\n\n  isTie(playerMark, lineWin) {\n    this.soundInGame(tieSound);\n\n    (async () => {\n      console.log('5555');\n      await this.delay(2000); // Executed 100 milliseconds later\n\n      console.log('7777');\n      this.resetGame();\n    })();\n  }\n\n  isWin(playerMark, lineWin) {\n    this.soundInGame(celebrationSound);\n    this.state.lineWin = lineWin;\n    this.scoreUp(this.state.player);\n    this.isGameEnd = true;\n    console.log(\"Win:\" + playerMark);\n\n    (async () => {\n      console.log('5555');\n      await this.delay(2000); // Executed 100 milliseconds later\n\n      console.log('7777');\n      this.resetGame();\n    })();\n  }\n\n  scoreUp(player) {\n    if (player) {\n      this.state.score[0] += 1;\n    } else {\n      this.state.score[1] += 1;\n    }\n  }\n\n  resetGame() {\n    console.log(\"reset\");\n    this.soundInGame(resetSound);\n    this.setState({\n      squares: Array(9).fill(null),\n      playerMarkerDisplay: Array(9).fill(null),\n      player: true,\n      lineWin: 0\n    });\n    this.playerMark = 0;\n    this.isGameEnd = false;\n    this.state.lineWin = 0;\n    this.strokeCounter = 0;\n  }\n\n  playSound(audio) {\n    //check if sound is null, if not stop previous sound and unload it\n    ;\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(KeyboardEventHandler, {\n          handleKeys: ['numeric'],\n          onKeyEvent: (key, e) => {\n            console.log(key);\n            this.ClickNum(key);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(ScoreGames, {\n          score: this.state.score\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"gameDesk\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Line, {\n            lineWin: this.state.lineWin\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"gameDesk-grid\",\n          onClick: this.ClickGrid,\n          data: \"0\",\n          children: this.state.playerMarkerDisplay[0]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"gameDesk-grid\",\n          onClick: this.ClickGrid,\n          data: \"1\",\n          children: this.state.playerMarkerDisplay[1]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"gameDesk-grid\",\n          onClick: this.ClickGrid,\n          data: \"2\",\n          children: this.state.playerMarkerDisplay[2]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"gameDesk-grid\",\n          onClick: this.ClickGrid,\n          data: \"3\",\n          children: this.state.playerMarkerDisplay[3]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"gameDesk-grid\",\n          onClick: this.ClickGrid,\n          data: \"4\",\n          children: this.state.playerMarkerDisplay[4]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"gameDesk-grid\",\n          onClick: this.ClickGrid,\n          data: \"5\",\n          children: this.state.playerMarkerDisplay[5]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"gameDesk-grid\",\n          onClick: this.ClickGrid,\n          data: \"6\",\n          children: this.state.playerMarkerDisplay[6]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"gameDesk-grid\",\n          onClick: this.ClickGrid,\n          data: \"7\",\n          children: this.state.playerMarkerDisplay[7]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"gameDesk-grid\",\n          onClick: this.ClickGrid,\n          data: \"8\",\n          children: this.state.playerMarkerDisplay[8]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Snackbar, {\n          anchorOrigin: {\n            vertical: 'top',\n            horizontal: 'center'\n          },\n          open: this.state.isShowMessage,\n          message: \"Wrong move. This cell is occupied.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 14\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"settings\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          onClick: this.newGame,\n          color: \"primary\",\n          className: \"newGameClass\",\n          children: \"New Game\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          onClick: this.automatic,\n          color: \"primary\",\n          className: \"newGameClass\",\n          style: {\n            marginTop: 5\n          },\n          children: \"Auto play\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 403,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"soundSettings\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outlined\",\n              color: \"secondary\" // size=\"large\"\n              // className={classes.button}\n              ,\n              startIcon: this.buttonMusic.buttonIcon,\n              onClick: this.soundLoopGame,\n              children: this.buttonMusic.buttonText\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(VolumeUp, {\n              color: \"secondary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 420,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Slider, {\n              style: {\n                width: 125\n              },\n              value: this.state.soundLevel,\n              onChange: this.handleChange,\n              min: 0,\n              max: 1,\n              step: 0.05,\n              \"aria-labelledby\": \"continuous-slider\",\n              color: \"secondary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 421,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(VolumeDown, {\n              color: \"secondary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 423,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(FormControlLabel, {\n              control: /*#__PURE__*/_jsxDEV(Switch, {\n                checked: this.state.soundOn,\n                onChange: this.soundOnChecked\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 426,\n                columnNumber: 26\n              }, this),\n              label: \"sound\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 425,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 13\n          }, this), \"/////////////////////////////////////////\", /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"soundSettings\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outlined\",\n              color: \"secondary\" // size=\"large\"\n              // className={classes.button}\n              ,\n              startIcon: this.buttonMusic.buttonIcon,\n              onClick: this.soundLoopGame,\n              children: this.buttonMusic.buttonText\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 433,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Slider, {\n              style: {\n                width: 125\n              },\n              value: this.state.soundLevel,\n              onChange: this.handleChange,\n              min: 200,\n              max: 2000,\n              step: 10,\n              \"aria-labelledby\": \"continuous-slider\",\n              color: \"secondary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 443,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(FormControlLabel, {\n              control: /*#__PURE__*/_jsxDEV(Switch, {\n                checked: this.state.soundOn,\n                onChange: this.soundOnChecked\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 447,\n                columnNumber: 26\n              }, this),\n              label: \"sound\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 446,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 432,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["D:/REACT/GAME/react-game/src/App.js"],"names":["React","ReactDOM","PlayerMarker","ScoreGames","Line","Button","Slider","VolumeUp","PlayArrowRoundedIcon","StopRoundedIcon","FormControlLabel","Switch","Snackbar","tapSound","resetSound","celebrationSound","tieSound","loopSound","errorSound","Howl","Howler","VolumeDown","KeyboardEventHandler","App","Component","constructor","props","ClickGrid","event","console","log","data","target","getAttribute","mainGame","ClickNum","key","setState","numKey","state","numericalCorrection","forceUpdate","newGame","resetGame","score","automatic","arrayAuto","spead","delay","soundInGame","sound","loopS","audio","src","loop","volume","soundLevel","play","soundLoopGame","id1","audio02","isLoopPlaySound","buttonMusic","buttonText","buttonIcon","stop","handleChange","newValue","soundOn","soundOnChecked","squares","Array","fill","playerMarkerDisplay","player","testState","lineWin","isShowMessage","playerMark","isGameEnd","strokeCounter","require","squareArray","isFinishGame","sq","isWin","isTie","scoreUp","playSound","render","e","vertical","horizontal","marginTop","width"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./App.css\";\r\n// import './PlayerMarker'\r\nimport PlayerMarker from \"./PlayerMarker\";\r\nimport ScoreGames from \"./ScoreGames\";\r\nimport Line from \"./Line\";\r\n\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Slider from '@material-ui/core/Slider';\r\nimport VolumeUp from '@material-ui/icons/VolumeUp';\r\nimport PlayArrowRoundedIcon from '@material-ui/icons/PlayArrowRounded';\r\nimport StopRoundedIcon from '@material-ui/icons/StopRounded';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\n\r\n//\r\nimport tapSound from './sound/navigation_hover-tap.wav';\r\nimport resetSound from './sound/notification_decorative-01.wav';\r\nimport celebrationSound from './sound/hero_decorative-celebration-02.wav';\r\nimport tieSound from './sound/hero_decorative-celebration-01.wav';\r\nimport loopSound from './sound/Melody 02.wav';\r\nimport errorSound from './sound/alert_error-03.wav';\r\n//\r\nimport { Howl, Howler } from 'howler';\r\nimport { VolumeDown } from \"@material-ui/icons\";\r\n\r\n\r\nimport KeyboardEventHandler from 'react-keyboard-event-handler';\r\n\r\n\r\n\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      // squares: [0, 1, 2, 3, 4, 5, 6, 7, 8]\r\n      squares: Array(9).fill(null),\r\n      playerMarkerDisplay: Array(9).fill(null),\r\n      player: true,\r\n      score: [0, 0],\r\n      testState: \"zero\",\r\n      lineWin: 0,\r\n      soundLevel: 0.8,\r\n      isLoopPlaySound: false,\r\n      soundOn: true,\r\n      isShowMessage: false,\r\n      numKey: 0,\r\n    };\r\n\r\n    this.playerMark = 0;\r\n    this.isGameEnd = false;\r\n    this.strokeCounter = 0;\r\n\r\n    this.delay = require('delay');\r\n\r\n    this.buttonMusic = {\r\n      buttonText: \"play music\",\r\n      buttonIcon: (<PlayArrowRoundedIcon />)\r\n    };\r\n\r\n  }\r\n\r\n  ClickGrid = (event) => {\r\n    console.log(\"grid\");\r\n    let data = event.target.getAttribute(\"data\");\r\n    this.mainGame(data)\r\n\r\n  }\r\n\r\n  ClickNum = (key) => {\r\n    \r\n    this.setState({ numKey: key });\r\n    let data = this.state.numKey;\r\n    if( key>=1 ){\r\n      console.log(\"adklaskd\")\r\n      const numericalCorrection = {\r\n        7:0,\r\n        8:1,\r\n        9:2,\r\n        4:3,\r\n        5:4,\r\n        6:5,\r\n        1:6,\r\n        2:7,\r\n        3:8\r\n      }\r\n      this.mainGame(numericalCorrection[key])\r\n      this.forceUpdate()\r\n    }\r\n\r\n  }\r\n\r\n\r\n  mainGame(data) {\r\n\r\n\r\n    if (!this.isGameEnd) {\r\n      this.soundInGame(tapSound);\r\n      let squareArray = this.state.squares;\r\n      if (this.state.squares[data] === null) {\r\n        this.strokeCounter += 1\r\n        if (this.state.player) {\r\n          this.playerMark = 1;\r\n          this.setState({ player: false });\r\n        } else {\r\n          this.playerMark = 0;\r\n          this.setState({ player: true });\r\n        }\r\n\r\n        squareArray[data] = this.playerMark;\r\n        this.setState({ squares: squareArray });\r\n        console.log(data, this.state.squares);\r\n        this.state.playerMarkerDisplay[data] = (\r\n          <PlayerMarker name={this.playerMark} />\r\n        );\r\n\r\n        this.forceUpdate()\r\n\r\n      } else {\r\n\r\n        console.log(`не верный ход`);\r\n        this.soundInGame(errorSound);\r\n        (async () => {\r\n          this.setState({ isShowMessage: true });\r\n          await this.delay(1000);\r\n          this.setState({ isShowMessage: false });\r\n          // Executed 100 milliseconds later\r\n\r\n        })();\r\n\r\n\r\n        //<PlayerMarker name={this.state.player} />\r\n      }\r\n\r\n      this.isFinishGame(this.playerMark);\r\n\r\n\r\n      //! test\r\n\r\n    }\r\n\r\n\r\n  };\r\n\r\n\r\n\r\n  isFinishGame(playerMark) {\r\n    console.log(\"isFinGame\" + this.state.squares);\r\n    const sq = this.state.squares\r\n\r\n    if (sq[0] === playerMark & sq[1] === playerMark & sq[2] === playerMark) { this.isWin(playerMark, 1) }\r\n    if (sq[3] === playerMark & sq[4] === playerMark & sq[5] === playerMark) { this.isWin(playerMark, 2) }\r\n    if (sq[6] === playerMark & sq[7] === playerMark & sq[8] === playerMark) { this.isWin(playerMark, 3) }\r\n\r\n    if (sq[0] === playerMark & sq[3] === playerMark & sq[6] === playerMark) { this.isWin(playerMark, 4) }\r\n    if (sq[1] === playerMark & sq[4] === playerMark & sq[7] === playerMark) { this.isWin(playerMark, 5) }\r\n    if (sq[2] === playerMark & sq[5] === playerMark & sq[8] === playerMark) { this.isWin(playerMark, 6) }\r\n\r\n    if (sq[0] === playerMark & sq[4] === playerMark & sq[8] === playerMark) { this.isWin(playerMark, 7) }\r\n    if (sq[6] === playerMark & sq[4] === playerMark & sq[2] === playerMark) { this.isWin(playerMark, 8) }\r\n\r\n    if (this.strokeCounter === 9 & !this.isGameEnd) { this.isTie(0) }\r\n\r\n\r\n  }\r\n\r\n  isTie(playerMark, lineWin) {\r\n    this.soundInGame(tieSound);\r\n    (async () => {\r\n      console.log('5555')\r\n      await this.delay(2000);      // Executed 100 milliseconds later\r\n      console.log('7777')\r\n      this.resetGame()\r\n\r\n    })();\r\n  }\r\n\r\n  isWin(playerMark, lineWin) {\r\n    this.soundInGame(celebrationSound);\r\n    this.state.lineWin = lineWin;\r\n    this.scoreUp(this.state.player);\r\n    this.isGameEnd = true;\r\n    console.log(\"Win:\" + playerMark);\r\n    (async () => {\r\n      console.log('5555')\r\n      await this.delay(2000);      // Executed 100 milliseconds later\r\n      console.log('7777')\r\n      this.resetGame()\r\n\r\n    })();\r\n  }\r\n\r\n  scoreUp(player) {\r\n    if (player) {\r\n      this.state.score[0] += 1;\r\n    } else {\r\n      this.state.score[1] += 1;\r\n    }\r\n  }\r\n\r\n  resetGame() {\r\n    console.log(\"reset\");\r\n    this.soundInGame(resetSound);\r\n    this.setState({\r\n      squares: Array(9).fill(null),\r\n      playerMarkerDisplay: Array(9).fill(null),\r\n      player: true,\r\n      lineWin: 0\r\n    });\r\n\r\n    this.playerMark = 0;\r\n    this.isGameEnd = false;\r\n    this.state.lineWin = 0;\r\n    this.strokeCounter = 0;\r\n  }\r\n\r\n  newGame = () => {\r\n    console.log(\"reset\");\r\n    this.resetGame();\r\n    this.setState({ score: [0, 0] });\r\n\r\n  }\r\n\r\n\r\n  automatic = () => {\r\n    console.log(\"reset\");\r\n    this.newGame();\r\n    const arrayAuto = [0,1,2,3,4,5,7,6,8];\r\n\r\n    const spead = 200;\r\n    (async () => {\r\n      await this.forceUpdate()\r\n      await this.delay(spead);      // Executed 100 milliseconds later\r\n      await this.mainGame(arrayAuto[0])\r\n      await this.forceUpdate()\r\n      await this.delay(spead);      // Executed 100 milliseconds later\r\n      await this.mainGame(arrayAuto[1])\r\n      await this.forceUpdate()\r\n      await this.delay(spead);      // Executed 100 milliseconds later\r\n      await this.mainGame(arrayAuto[2])\r\n      await this.forceUpdate()\r\n      await this.delay(spead);      // Executed 100 milliseconds later\r\n      await this.mainGame(arrayAuto[3])\r\n      await this.forceUpdate()\r\n      await this.delay(spead);      // Executed 100 milliseconds later\r\n      await this.mainGame(arrayAuto[4])\r\n      await this.forceUpdate()\r\n      await this.delay(spead);      // Executed 100 milliseconds later\r\n      await this.mainGame(arrayAuto[5])\r\n      await this.forceUpdate()\r\n      await this.delay(spead);      // Executed 100 milliseconds later\r\n      await this.mainGame(arrayAuto[6])\r\n      await this.forceUpdate()\r\n      await this.delay(spead);      // Executed 100 milliseconds later\r\n      await this.mainGame(arrayAuto[7])\r\n      await this.forceUpdate()\r\n      await this.delay(spead);      // Executed 100 milliseconds later\r\n      await this.mainGame(arrayAuto[8])\r\n      await this.forceUpdate()\r\n    })();\r\n\r\n  }\r\n\r\n  soundInGame = (sound, loopS = false) => {\r\n    const audio = new Howl({\r\n      src: [sound],\r\n      loop: loopS,\r\n      volume: this.state.soundLevel,\r\n    });\r\n    audio.play();\r\n  }\r\n\r\n\r\n  soundLoopGame = () => {\r\n    let id1;\r\n    const audio02 = new Howl({\r\n      src: [loopSound],\r\n      loop: true,\r\n      volume: this.state.soundLevel,\r\n    });\r\n    if (!this.state.isLoopPlaySound) {\r\n      id1 = audio02.play();\r\n\r\n      this.setState({ isLoopPlaySound: true })\r\n      this.buttonMusic = {\r\n        buttonText: \"stop music\",\r\n        buttonIcon: (<StopRoundedIcon />)\r\n      };\r\n    } else {\r\n      this.setState({ isLoopPlaySound: false })\r\n      Howler.stop();\r\n      this.buttonMusic = {\r\n        buttonText: \"play music\",\r\n        buttonIcon: (<PlayArrowRoundedIcon />)\r\n      };\r\n    }\r\n  }\r\n\r\n  playSound(audio) {\r\n    //check if sound is null, if not stop previous sound and unload it\r\n    ;\r\n  }\r\n\r\n  handleChange = (event, newValue) => {\r\n    Howler.volume(this.state.soundLevel);\r\n    this.setState({ soundLevel: newValue });\r\n    if (this.state.soundLevel > 0) {\r\n      this.setState({ soundOn: true });\r\n    }\r\n    if (this.state.soundLevel === 0) {\r\n      this.setState({ soundOn: false });\r\n\r\n      if (this.state.isLoopPlaySound) {\r\n        this.soundLoopGame()\r\n      }\r\n    }\r\n\r\n  };\r\n\r\n  soundOnChecked = () => {\r\n    if (this.state.soundOn) {\r\n      this.setState({\r\n        soundOn: false,\r\n        soundLevel: 0\r\n      });\r\n      if (this.state.isLoopPlaySound) {\r\n        this.soundLoopGame()\r\n      }\r\n\r\n    }\r\n    else {\r\n      this.setState({\r\n        soundOn: true,\r\n        soundLevel: 0.5\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div>\r\n        <KeyboardEventHandler handleKeys={['numeric']} onKeyEvent={(key, e) => {\r\n            console.log(key)\r\n            this.ClickNum(key)\r\n          }} />\r\n        </div>\r\n        \r\n        <div>\r\n          <ScoreGames score={this.state.score} />\r\n        </div>\r\n        <div className=\"gameDesk\">\r\n          <div>\r\n            <Line lineWin={this.state.lineWin} />\r\n          </div>\r\n          <div className=\"gameDesk-grid\" onClick={this.ClickGrid} data=\"0\">\r\n            {this.state.playerMarkerDisplay[0]}\r\n          </div>\r\n          <div className=\"gameDesk-grid\" onClick={this.ClickGrid} data=\"1\">\r\n            {this.state.playerMarkerDisplay[1]}\r\n          </div>\r\n          <div className=\"gameDesk-grid\" onClick={this.ClickGrid} data=\"2\">\r\n            {this.state.playerMarkerDisplay[2]}\r\n          </div>\r\n          <div className=\"gameDesk-grid\" onClick={this.ClickGrid} data=\"3\">\r\n            {this.state.playerMarkerDisplay[3]}\r\n          </div>\r\n          <div className=\"gameDesk-grid\" onClick={this.ClickGrid} data=\"4\">\r\n            {this.state.playerMarkerDisplay[4]}\r\n          </div>\r\n          <div className=\"gameDesk-grid\" onClick={this.ClickGrid} data=\"5\">\r\n            {this.state.playerMarkerDisplay[5]}\r\n          </div>\r\n          <div className=\"gameDesk-grid\" onClick={this.ClickGrid} data=\"6\">\r\n            {this.state.playerMarkerDisplay[6]}\r\n          </div>\r\n          <div className=\"gameDesk-grid\" onClick={this.ClickGrid} data=\"7\">\r\n            {this.state.playerMarkerDisplay[7]}\r\n          </div>\r\n          <div className=\"gameDesk-grid\" onClick={this.ClickGrid} data=\"8\">\r\n            {this.state.playerMarkerDisplay[8]}\r\n          </div>\r\n        </div>\r\n\r\n        <div><Snackbar\r\n          anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\r\n          open={this.state.isShowMessage}\r\n          message=\"Wrong move. This cell is occupied.\"\r\n\r\n        />\r\n          \r\n        </div>\r\n\r\n\r\n        <div className=\"settings\">\r\n          <Button variant=\"outlined\" onClick={this.newGame} color=\"primary\" className=\"newGameClass\">\r\n            New Game\r\n          </Button>\r\n\r\n          <Button variant=\"outlined\" onClick={this. automatic} color=\"primary\" className=\"newGameClass\" style={{ marginTop: 5 }}>\r\n            Auto play\r\n          </Button>\r\n\r\n\r\n          <div>\r\n            <div className=\"soundSettings\">\r\n              <Button\r\n                variant=\"outlined\"\r\n                color=\"secondary\"\r\n                // size=\"large\"\r\n                // className={classes.button}\r\n                startIcon={this.buttonMusic.buttonIcon}\r\n                onClick={this.soundLoopGame}\r\n              >{this.buttonMusic.buttonText}</Button>\r\n\r\n\r\n              <VolumeUp color=\"secondary\" />\r\n              <Slider style={{ width: 125 }} value={this.state.soundLevel} onChange={this.handleChange} min={0}\r\n                max={1} step={0.05} aria-labelledby=\"continuous-slider\" color=\"secondary\" />\r\n              <VolumeDown color=\"secondary\" />\r\n\r\n              <FormControlLabel\r\n                control={<Switch checked={this.state.soundOn} onChange={this.soundOnChecked} />}\r\n                label=\"sound\"\r\n              />\r\n            </div>\r\n\r\n            /////////////////////////////////////////\r\n            <div className=\"soundSettings\">\r\n              <Button\r\n                variant=\"outlined\"\r\n                color=\"secondary\"\r\n                // size=\"large\"\r\n                // className={classes.button}\r\n                startIcon={this.buttonMusic.buttonIcon}\r\n                onClick={this.soundLoopGame}\r\n              >{this.buttonMusic.buttonText}</Button>\r\n\r\n\r\n              <Slider style={{ width: 125 }} value={this.state.soundLevel} onChange={this.handleChange} min={200}\r\n                max={2000} step={10} aria-labelledby=\"continuous-slider\" color=\"secondary\" />\r\n\r\n              <FormControlLabel\r\n                control={<Switch checked={this.state.soundOn} onChange={this.soundOnChecked} />}\r\n                label=\"sound\"\r\n              />\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}