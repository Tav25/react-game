{"ast":null,"code":"var _jsxFileName = \"D:\\\\REACT\\\\GAME\\\\react-game\\\\src\\\\App.js\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Button from \"@material-ui/core/Button\";\nimport \"./App.css\"; // import './PlayerMarker'\n\nimport PlayerMarker from \"./PlayerMarker\";\nimport ScoreGames from \"./ScoreGames\";\nimport Line from \"./Line\"; //\n\nimport UIfx from 'uifx';\nimport tickAudio from './Skoraya_pomosch.mp3'; //\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = event => {\n      this.setState({\n        value: event.target.value\n      });\n      this.tick.play();\n      console.log(this.state.value);\n    };\n\n    this.ClickGrid = event => {\n      if (!this.isGameEnd) {\n        this.strokeCounter += 1;\n        this.soundInGame(\"clickSq\");\n        console.log(\"grid\");\n        let data = event.target.getAttribute(\"data\");\n        let squareArray = this.state.squares;\n\n        if (this.state.squares[data] === null) {\n          if (this.state.player) {\n            this.playerMark = 1;\n            this.setState({\n              player: false\n            });\n          } else {\n            this.playerMark = 0;\n            this.setState({\n              player: true\n            });\n          }\n\n          squareArray[data] = this.playerMark;\n          this.setState({\n            squares: squareArray\n          });\n          console.log(data, this.state.squares, this.state.playerMarkerDisplay);\n          this.state.playerMarkerDisplay[data] = /*#__PURE__*/_jsxDEV(PlayerMarker, {\n            name: this.state.player\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 11\n          }, this);\n        } else {\n          console.log(`не верный ход`); //<PlayerMarker name={this.state.player} />\n        }\n\n        this.isFinishGame(this.playerMark); //! test\n      }\n    };\n\n    this.newGame = () => {\n      console.log(\"reset\");\n      this.resetGame();\n      this.setState({\n        score: [0, 0]\n      });\n    };\n\n    this.state = {\n      // squares: [0, 1, 2, 3, 4, 5, 6, 7, 8]\n      squares: Array(9).fill(null),\n      playerMarkerDisplay: Array(9).fill(null),\n      player: true,\n      score: [0, 0],\n      testState: \"zero\",\n      lineWin: 0,\n      value: 0\n    };\n    this.playerMark = 0;\n    this.isGameEnd = false;\n    this.strokeCounter = 0;\n    this.delay = require('delay');\n    this.tick = new UIfx();\n  }\n\n  isFinishGame(playerMark) {\n    console.log(\"isFinGame\" + this.state.squares);\n    const sq = this.state.squares;\n\n    if (sq[0] === playerMark & sq[1] === playerMark & sq[2] === playerMark) {\n      this.isWin(playerMark, 1);\n    }\n\n    if (sq[3] === playerMark & sq[4] === playerMark & sq[5] === playerMark) {\n      this.isWin(playerMark, 2);\n    }\n\n    if (sq[6] === playerMark & sq[7] === playerMark & sq[8] === playerMark) {\n      this.isWin(playerMark, 3);\n    }\n\n    if (sq[0] === playerMark & sq[3] === playerMark & sq[6] === playerMark) {\n      this.isWin(playerMark, 4);\n    }\n\n    if (sq[1] === playerMark & sq[4] === playerMark & sq[7] === playerMark) {\n      this.isWin(playerMark, 5);\n    }\n\n    if (sq[2] === playerMark & sq[5] === playerMark & sq[8] === playerMark) {\n      this.isWin(playerMark, 6);\n    }\n\n    if (sq[0] === playerMark & sq[4] === playerMark & sq[8] === playerMark) {\n      this.isWin(playerMark, 7);\n    }\n\n    if (sq[6] === playerMark & sq[4] === playerMark & sq[2] === playerMark) {\n      this.isWin(playerMark, 8);\n    }\n\n    if (this.strokeCounter === 9 & !this.isGameEnd) {\n      this.isTie(0);\n    }\n  }\n\n  isTie(playerMark, lineWin) {\n    (async () => {\n      console.log('5555');\n      await this.delay(1000); // Executed 100 milliseconds later\n\n      console.log('7777');\n      this.resetGame();\n    })();\n  }\n\n  isWin(playerMark, lineWin) {\n    this.state.lineWin = lineWin;\n    this.scoreUp(this.state.player);\n    this.isGameEnd = true;\n    console.log(\"Win:\" + playerMark);\n\n    (async () => {\n      console.log('5555');\n      await this.delay(2000); // Executed 100 milliseconds later\n\n      console.log('7777');\n      this.resetGame();\n    })();\n  }\n\n  scoreUp(player) {\n    if (player) {\n      this.state.score[0] += 1;\n    } else {\n      this.state.score[1] += 1;\n    }\n  }\n\n  resetGame() {\n    console.log(\"reset\");\n    this.soundInGame(\"reset\");\n    this.setState({\n      squares: Array(9).fill(null),\n      playerMarkerDisplay: Array(9).fill(null),\n      player: true,\n      lineWin: 0\n    });\n    this.playerMark = 0;\n    this.isGameEnd = false;\n    this.state.lineWin = 0;\n    this.strokeCounter = 0;\n  }\n\n  soundInGame(action = \"reset\") {\n    const sounds = {\n      reset: \"https://www.fesliyanstudios.com/play-mp3/5254\",\n      clickSq: \"https://www.fesliyanstudios.com/play-mp3/2903\" //https://www.fesliyanstudios.com/royalty-free-sound-effects-download/spells-and-power-ups-217\n\n    };\n    const audio = new Audio(sounds[action]);\n    audio.play();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(ScoreGames, {\n          score: this.state.score\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"gameDesk\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Line, {\n            lineWin: this.state.lineWin\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"gameDesk-grid\",\n          onClick: this.ClickGrid,\n          data: \"0\",\n          children: this.state.playerMarkerDisplay[0]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"gameDesk-grid\",\n          onClick: this.ClickGrid,\n          data: \"1\",\n          children: this.state.playerMarkerDisplay[1]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"gameDesk-grid\",\n          onClick: this.ClickGrid,\n          data: \"2\",\n          children: this.state.playerMarkerDisplay[2]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"gameDesk-grid\",\n          onClick: this.ClickGrid,\n          data: \"3\",\n          children: this.state.playerMarkerDisplay[3]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"gameDesk-grid\",\n          onClick: this.ClickGrid,\n          data: \"4\",\n          children: this.state.playerMarkerDisplay[4]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"gameDesk-grid\",\n          onClick: this.ClickGrid,\n          data: \"5\",\n          children: this.state.playerMarkerDisplay[5]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"gameDesk-grid\",\n          onClick: this.ClickGrid,\n          data: \"6\",\n          children: this.state.playerMarkerDisplay[6]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"gameDesk-grid\",\n          onClick: this.ClickGrid,\n          data: \"7\",\n          children: this.state.playerMarkerDisplay[7]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"gameDesk-grid\",\n          onClick: this.ClickGrid,\n          data: \"8\",\n          children: this.state.playerMarkerDisplay[8]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          onClick: this.newGame,\n          color: \"primary\",\n          children: \"New Game\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: this.state.value\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"range\",\n            value: this.state.value,\n            onChange: this.onChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["D:/REACT/GAME/react-game/src/App.js"],"names":["React","ReactDOM","Button","PlayerMarker","ScoreGames","Line","UIfx","tickAudio","App","Component","constructor","props","onChange","event","setState","value","target","tick","play","console","log","state","ClickGrid","isGameEnd","strokeCounter","soundInGame","data","getAttribute","squareArray","squares","player","playerMark","playerMarkerDisplay","isFinishGame","newGame","resetGame","score","Array","fill","testState","lineWin","delay","require","sq","isWin","isTie","scoreUp","action","sounds","reset","clickSq","audio","Audio","render"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport \"./App.css\";\r\n// import './PlayerMarker'\r\nimport PlayerMarker from \"./PlayerMarker\";\r\nimport ScoreGames from \"./ScoreGames\";\r\nimport Line from \"./Line\";\r\n\r\n//\r\n\r\nimport UIfx from 'uifx';\r\nimport tickAudio from './Skoraya_pomosch.mp3';\r\n\r\n//\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      // squares: [0, 1, 2, 3, 4, 5, 6, 7, 8]\r\n      squares: Array(9).fill(null),\r\n      playerMarkerDisplay: Array(9).fill(null),\r\n      player: true,\r\n      score: [0, 0],\r\n      testState: \"zero\",\r\n      lineWin: 0,\r\n      value: 0,\r\n    };\r\n    \r\n    this.playerMark = 0;\r\n    this.isGameEnd = false;\r\n    this.strokeCounter = 0;\r\n    \r\n    this.delay = require('delay');\r\n    this.tick = new UIfx();\r\n  }\r\n\r\n  onChange = (event) => {\r\n    this.setState({ value: event.target.value });\r\n    this.tick.play();\r\n    console.log(this.state.value)\r\n  }\r\n\r\n  ClickGrid = (event) => {\r\n    if (!this.isGameEnd) {\r\n\r\n      this.strokeCounter += 1\r\n\r\n      this.soundInGame(\"clickSq\");\r\n      console.log(\"grid\");\r\n      let data = event.target.getAttribute(\"data\");\r\n      let squareArray = this.state.squares;\r\n      if (this.state.squares[data] === null) {\r\n        if (this.state.player) {\r\n          this.playerMark = 1;\r\n          this.setState({ player: false });\r\n        } else {\r\n          this.playerMark = 0;\r\n          this.setState({ player: true });\r\n        }\r\n\r\n        squareArray[data] = this.playerMark;\r\n        this.setState({ squares: squareArray });\r\n        console.log(data, this.state.squares, this.state.playerMarkerDisplay);\r\n        this.state.playerMarkerDisplay[data] = (\r\n          <PlayerMarker name={this.state.player} />\r\n        );\r\n\r\n      } else {\r\n\r\n        console.log(`не верный ход`);\r\n        //<PlayerMarker name={this.state.player} />\r\n      }\r\n\r\n      this.isFinishGame(this.playerMark);\r\n\r\n\r\n      //! test\r\n\r\n    }\r\n  };\r\n\r\n  isFinishGame(playerMark) {\r\n    console.log(\"isFinGame\" + this.state.squares);\r\n    const sq = this.state.squares\r\n\r\n    if (sq[0] === playerMark & sq[1] === playerMark & sq[2] === playerMark) { this.isWin(playerMark, 1) }\r\n    if (sq[3] === playerMark & sq[4] === playerMark & sq[5] === playerMark) { this.isWin(playerMark, 2) }\r\n    if (sq[6] === playerMark & sq[7] === playerMark & sq[8] === playerMark) { this.isWin(playerMark, 3) }\r\n\r\n    if (sq[0] === playerMark & sq[3] === playerMark & sq[6] === playerMark) { this.isWin(playerMark, 4) }\r\n    if (sq[1] === playerMark & sq[4] === playerMark & sq[7] === playerMark) { this.isWin(playerMark, 5) }\r\n    if (sq[2] === playerMark & sq[5] === playerMark & sq[8] === playerMark) { this.isWin(playerMark, 6) }\r\n\r\n    if (sq[0] === playerMark & sq[4] === playerMark & sq[8] === playerMark) { this.isWin(playerMark, 7) }\r\n    if (sq[6] === playerMark & sq[4] === playerMark & sq[2] === playerMark) { this.isWin(playerMark, 8) }\r\n\r\n    if (this.strokeCounter === 9 & !this.isGameEnd) { this.isTie(0) }\r\n\r\n\r\n  }\r\n\r\n  isTie(playerMark, lineWin) {\r\n    (async () => {\r\n      console.log('5555')\r\n      await this.delay(1000);      // Executed 100 milliseconds later\r\n      console.log('7777')\r\n      this.resetGame()\r\n\r\n    })();\r\n  }\r\n\r\n  isWin(playerMark, lineWin) {\r\n    this.state.lineWin = lineWin;\r\n    this.scoreUp(this.state.player);\r\n    this.isGameEnd = true;\r\n    console.log(\"Win:\" + playerMark);\r\n    (async () => {\r\n      console.log('5555')\r\n      await this.delay(2000);      // Executed 100 milliseconds later\r\n      console.log('7777')\r\n      this.resetGame()\r\n\r\n    })();\r\n  }\r\n\r\n  scoreUp(player) {\r\n    if (player) {\r\n      this.state.score[0] += 1;\r\n    } else {\r\n      this.state.score[1] += 1;\r\n    }\r\n  }\r\n\r\n  resetGame() {\r\n    console.log(\"reset\");\r\n    this.soundInGame(\"reset\");\r\n    this.setState({\r\n      squares: Array(9).fill(null),\r\n      playerMarkerDisplay: Array(9).fill(null),\r\n      player: true,\r\n      lineWin: 0\r\n    });\r\n\r\n    this.playerMark = 0;\r\n    this.isGameEnd = false;\r\n    this.state.lineWin = 0;\r\n    this.strokeCounter = 0;\r\n  }\r\n\r\n  newGame = () => {\r\n    console.log(\"reset\");\r\n    this.resetGame();\r\n    this.setState({ score: [0, 0] });\r\n\r\n  }\r\n\r\n  soundInGame(action = \"reset\") {\r\n    const sounds = {\r\n      reset: \"https://www.fesliyanstudios.com/play-mp3/5254\",\r\n      clickSq: \"https://www.fesliyanstudios.com/play-mp3/2903\",\r\n      //https://www.fesliyanstudios.com/royalty-free-sound-effects-download/spells-and-power-ups-217\r\n    };\r\n    const audio = new Audio(sounds[action]);\r\n    audio.play();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div>\r\n          <ScoreGames score={this.state.score} />\r\n        </div>\r\n        <div className=\"gameDesk\">\r\n          <div>\r\n            <Line lineWin={this.state.lineWin} />\r\n          </div>\r\n          <div className=\"gameDesk-grid\" onClick={this.ClickGrid} data=\"0\">\r\n            {this.state.playerMarkerDisplay[0]}\r\n          </div>\r\n          <div className=\"gameDesk-grid\" onClick={this.ClickGrid} data=\"1\">\r\n            {this.state.playerMarkerDisplay[1]}\r\n          </div>\r\n          <div className=\"gameDesk-grid\" onClick={this.ClickGrid} data=\"2\">\r\n            {this.state.playerMarkerDisplay[2]}\r\n          </div>\r\n          <div className=\"gameDesk-grid\" onClick={this.ClickGrid} data=\"3\">\r\n            {this.state.playerMarkerDisplay[3]}\r\n          </div>\r\n          <div className=\"gameDesk-grid\" onClick={this.ClickGrid} data=\"4\">\r\n            {this.state.playerMarkerDisplay[4]}\r\n          </div>\r\n          <div className=\"gameDesk-grid\" onClick={this.ClickGrid} data=\"5\">\r\n            {this.state.playerMarkerDisplay[5]}\r\n          </div>\r\n          <div className=\"gameDesk-grid\" onClick={this.ClickGrid} data=\"6\">\r\n            {this.state.playerMarkerDisplay[6]}\r\n          </div>\r\n          <div className=\"gameDesk-grid\" onClick={this.ClickGrid} data=\"7\">\r\n            {this.state.playerMarkerDisplay[7]}\r\n          </div>\r\n          <div className=\"gameDesk-grid\" onClick={this.ClickGrid} data=\"8\">\r\n            {this.state.playerMarkerDisplay[8]}\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <Button variant=\"contained\" onClick={this.newGame} color=\"primary\">\r\n            New Game\r\n          </Button>\r\n          <div>\r\n            <div>{this.state.value}</div>\r\n            <input\r\n              type=\"range\"\r\n              value={this.state.value}\r\n              onChange={this.onChange}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}